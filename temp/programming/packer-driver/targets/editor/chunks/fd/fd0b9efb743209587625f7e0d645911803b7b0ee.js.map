{"version":3,"sources":["file:///Users/super_javan/cocoscreator/littleBeastFight3.6/assets/Script/Utils/PriorityStake.ts"],"names":["PriorityStake","PriorityElement","stack","Array","size","getSize","clear","length","getTopElement","data","getElements","elements","e","push","priority","ajust","pop","ele","undefined","i","swap","a","b","tmp","hasElement","t"],"mappings":";;;+CAEaA,a;;;;;;;;;;;;;;AAFJC,MAAAA,e,iBAAAA,e;;;;;;;+BAEID,a,GAAN,MAAMA,aAAN,CAAsB;AAAA;AAAA,eACjBE,KADiB,GACkB,IAAIC,KAAJ,EADlB;AAAA,eAEjBC,IAFiB,GAEF,CAFE;AAAA;;AAIlBC,QAAAA,OAAO,GAAW;AACrB,iBAAO,KAAKD,IAAZ;AACH;;AAEME,QAAAA,KAAK,GAAS;AACjB,eAAKJ,KAAL,CAAWK,MAAX,GAAoB,CAApB;AACA,eAAKH,IAAL,GAAY,CAAZ;AACH;;AAEMI,QAAAA,aAAa,GAAa;AAC7B,cAAI,KAAKN,KAAL,CAAWK,MAAX,IAAqB,CAAzB,EAA4B;AACxB,mBAAO,IAAP;AACH;;AACD,iBAAO,KAAKL,KAAL,CAAW,KAAKA,KAAL,CAAWK,MAAX,GAAoB,CAA/B,EAAkCE,IAAzC;AACH;;AAEMC,QAAAA,WAAW,GAAQ;AACtB;AACA,cAAIC,QAAkB,GAAG,IAAIR,KAAJ,EAAzB;;AACA,eAAK,MAAMS,CAAX,IAAgB,KAAKV,KAArB,EAA4B;AACxBS,YAAAA,QAAQ,CAACE,IAAT,CAAcD,CAAC,CAACH,IAAhB;AACH;;AACD,iBAAOE,QAAP;AACH;;AAEME,QAAAA,IAAI,CAACD,CAAD,EAAOE,QAAgB,GAAG,CAA1B,EAA6B;AACpC,eAAKZ,KAAL,CAAWW,IAAX,CAAgB;AAAA;AAAA,kDAAoBD,CAApB,EAAuBE,QAAvB,CAAhB;AACA,eAAKV,IAAL;AACA,eAAKW,KAAL;AACH;;AAEMC,QAAAA,GAAG,GAAa;AACnB,cAAI,KAAKd,KAAL,CAAWK,MAAX,IAAqB,CAAzB,EAA4B;AACxB,mBAAO,IAAP;AACH;;AACD,eAAKH,IAAL;AACA,cAAIa,GAAG,GAAG,KAAKf,KAAL,CAAWc,GAAX,EAAV;;AACA,cAAIC,GAAG,KAAKC,SAAZ,EAAuB;AACnB,mBAAOD,GAAG,CAACR,IAAX;AACH,WAFD,MAEO;AACH,mBAAO,IAAP;AACH;AACJ,SA9CwB,CAgDzB;;;AACQM,QAAAA,KAAK,GAAG;AACZ,eAAK,IAAII,CAAC,GAAG,KAAKjB,KAAL,CAAWK,MAAX,GAAoB,CAAjC,EAAoCY,CAAC,GAAG,CAAxC,EAA2CA,CAAC,EAA5C,EAAgD;AAC5C,gBAAI,KAAKjB,KAAL,CAAWiB,CAAX,EAAcL,QAAd,GAAyB,KAAKZ,KAAL,CAAWiB,CAAC,GAAG,CAAf,EAAkBL,QAA/C,EAAyD;AACrD,mBAAKM,IAAL,CAAUD,CAAV,EAAaA,CAAC,GAAG,CAAjB;AACH;AACJ;AACJ;;AAEOC,QAAAA,IAAI,CAACC,CAAD,EAAYC,CAAZ,EAAuB;AAC/B,cAAIC,GAAG,GAAG,KAAKrB,KAAL,CAAWmB,CAAX,CAAV;AACA,eAAKnB,KAAL,CAAWmB,CAAX,IAAgB,KAAKnB,KAAL,CAAWoB,CAAX,CAAhB;AACA,eAAKpB,KAAL,CAAWoB,CAAX,IAAgBC,GAAhB;AACH;;AAEMC,QAAAA,UAAU,CAACC,CAAD,EAAgB;AAC7B,eAAK,MAAMb,CAAX,IAAgB,KAAKV,KAArB,EAA4B;AACxB,gBAAIU,CAAC,CAACH,IAAF,KAAWgB,CAAf,EAAkB;AACd,qBAAO,IAAP;AACH;AACJ;;AACD,iBAAO,KAAP;AACH;;AAtEwB,O","sourcesContent":["import { PriorityElement } from \"./PriorityQueue\"\n\nexport class PriorityStake<T>{\n    private stack: Array<PriorityElement<T>> = new Array<PriorityElement<T>>();\n    private size: number = 0;\n\n    public getSize(): number {\n        return this.size;\n    }\n\n    public clear(): void {\n        this.stack.length = 0;\n        this.size = 0;\n    }\n\n    public getTopElement(): T | null {\n        if (this.stack.length <= 0) {\n            return null;\n        }\n        return this.stack[this.stack.length - 1].data;\n    }\n\n    public getElements(): T[] {\n        //let elements:T[] = [];\n        let elements: Array<T> = new Array<T>();\n        for (const e of this.stack) {\n            elements.push(e.data);\n        }\n        return elements;\n    }\n\n    public push(e: T, priority: number = 0) {\n        this.stack.push(new PriorityElement(e, priority));\n        this.size++;\n        this.ajust();\n    }\n\n    public pop(): T | null {\n        if (this.stack.length <= 0) {\n            return null;\n        }\n        this.size--;\n        let ele = this.stack.pop();\n        if (ele !== undefined) {\n            return ele.data;\n        } else {\n            return null;\n        }\n    }\n\n    //根据优先级调整顺序\n    private ajust() {\n        for (let i = this.stack.length - 1; i > 0; i--) {\n            if (this.stack[i].priority < this.stack[i - 1].priority) {\n                this.swap(i, i - 1);\n            }\n        }\n    }\n\n    private swap(a: number, b: number) {\n        let tmp = this.stack[a];\n        this.stack[a] = this.stack[b];\n        this.stack[b] = tmp;\n    }\n\n    public hasElement(t: T): boolean {\n        for (const e of this.stack) {\n            if (e.data === t) {\n                return true;\n            }\n        }\n        return false;\n    }\n}"]}